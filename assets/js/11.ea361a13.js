(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{700:function(t,e,n){"use strict";(function(t){e.a={requestInPromise(e={}){const n=Object.assign({},{type:"GET",contentType:"application/json; charset=utf-8",data:{}},e);let a=this;return new Promise((function(e,i){let r=n.data;"POST"===n.type.toUpperCase()&&n.data&&n.contentType.indexOf("application/json")>-1&&(r=JSON.stringify(n.data)),t.ajax({type:n.type,url:n.url,data:r,dataType:"json",contentType:n.contentType,cache:!1,success(t){200===t.code?e(t.data):0===t.code?a.goLogin():i(t.msg)},error(t,e){i("网络异常")}})}))},appSource(){const t=navigator.userAgent,e=(navigator.appVersion,t.indexOf("Android")>-1||t.indexOf("Linux")>-1),n=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return e?"android":n?"ios":"H5"},goLogin(){},filterStr:t=>t=(t=(t=(t=(t=(t=(t=(t+="").replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/'/g,"&#39;")).replace(/"/g,"&quot;")).replace(/;/g,"")).replace(/--/g," "),getQueryString(t,e=window.window.location.search){const n=this,a=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),i=e.substr(1).match(a);return null!==i?n.filterStr(decodeURIComponent(i[2])):null},deepClone(t){let e,n=function(t){let e=Object.prototype.toString;return t instanceof Element?"element":{"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"}[e.call(t)]}(t);if("array"===n)e=[];else{if("object"!==n)return t;e={}}if("array"===n)for(let n=0,a=t.length;n<a;n++)e.push(this.deepClone(t[n]));else if("object"===n)for(let n in t)e[n]=this.deepClone(t[n]);return e},randomInRange:(t,e)=>t+Math.floor(Math.random()*(e-t)),getBLen:t=>null==t?0:("string"!=typeof t&&(t+=""),t.replace(/[^\x00-\xff]/g,"01").length)}}).call(this,n(699))},701:function(t,e,n){"use strict";n(286);var a=n(41),i=n(700),r={name:"v-head",props:["myTitle"],data(){return{title:this.myTitle,appSource:""}},methods:{onClickLeft(){"票卡商城"===this.title?Object(a.a)("调用安卓或者ios方法返回"):this.$router.go(-1)}},created(){this.appSource=i.a.appSource()}},o=n(189),c=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return"ios"!==this.appSource&&"android"!==this.appSource?e("div",[e("van-nav-bar",{attrs:{title:this.title,"left-text":"","left-arrow":"",fixed:!0},on:{"click-left":this.onClickLeft}}),this._v(" "),e("div",{staticStyle:{height:"46px"}})],1):this._e()}),[],!1,null,null,null);e.a=c.exports},705:function(t,e,n){var a=n(716);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n(6).default)("6b1d0986",a,!0,{})},715:function(t,e,n){"use strict";var a=n(705);n.n(a).a},716:function(t,e,n){(e=n(5)(!1)).push([t.i,"\n.van-button--square {\n    height: 100% !important;\n}\n.van-card__tag {\n    position: absolute !important;\n    top: 30px !important;\n    left: -25px !important;\n}\n.van-swipe-cell__wrapper {\n    background-color: #fafafa !important;\n}\n.van-checkbox {\n    margin-top: 5px !important;\n}\n.van-submit-bar__bar {\n    padding: 0 5px !important;\n}\n",""]),t.exports=e},727:function(t,e,n){"use strict";n.r(e);n(286);var a=n(41),i=n(701),r=n(700),o={components:{vHead:i.a},data:()=>({myTitle:"购物车",result:[],orderData:[],isCheckAll:!0,data:[],price:0}),computed:{prices:function(){const t=this.result,e=this.data;var n=this.price;return t.forEach((function(t){e.forEach((function(e){t===e.detailsId&&(n+=e.commodityPrice*e.purchaseQuantity)}))})),100*n},settlement:function(){return this.result.length>this.data.length?"结算("+(this.result.length-1)+")":"结算("+this.result.length+")"}},methods:{onSubmit(){const t=this.orderData,e=this.result;this.data.forEach((function(n){e.forEach((function(e){e===n.detailsId&&t.push(n)}))})),t.length>0?(this.$store.commit("storingTrolleyData",t),this.$router.push({name:"确认订单",params:{state:"shoppingCart"}})):Object(a.a)("您还没有选择宝贝哦")},onDelete(t){for(let e=0;e<this.data.length;e++)t===this.data[e].detailsId&&(this.data.splice(e,1),this.data.length<=0&&(this.isCheckAll=!0,this.$refs.checkboxGroup.children[this.$refs.checkboxGroup.children.length-1].checked=!1));this.$store.commit("storingTrolleyData",this.data),Object(a.a)("删除商品")},checkAll(){this.isCheckAll=!1,this.$refs.checkboxGroup.toggleAll(!0)},toggleAll(){this.isCheckAll=!0,this.$refs.checkboxGroup.toggleAll(!1)},isCheck(){this.isCheckAll=!0,this.$refs.checkboxGroup.children[this.$refs.checkboxGroup.children.length-1].checked=!1,this.data.length===this.result.length&&(this.isCheckAll=!1,this.$refs.checkboxGroup.children[this.$refs.checkboxGroup.children.length-1].checked=!0)},changeQuantity(t,e){"+"===e?t.purchaseQuantity++:t.purchaseQuantity>1&&t.purchaseQuantity--}},created(){this.data=this.$store.state.orderData,"android"===r.a.appSource().toLocaleLowerCase()?window.window.android.setTitle("购物车"):"ios"===r.a.appSource()&&Object(a.a)("ios")}},c=(n(715),n(189)),s=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-head",{attrs:{myTitle:this.myTitle}}),t._v(" "),this.data.length>=0?n("van-checkbox-group",{ref:"checkboxGroup",model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},[t._l(t.data,(function(e,a){return n("van-swipe-cell",{key:a,scopedSlots:t._u([{key:"right",fn:function(){return[n("van-button",{attrs:{square:"",text:"删除",type:"danger"},on:{click:function(n){return t.onDelete(e.detailsId)}}})]},proxy:!0}],null,!0),model:{value:t.data,callback:function(e){t.data=e},expression:"data"}},[n("van-card",{style:{"margin-left":"15px !important"},attrs:{num:e.purchaseQuantity,price:e.commodityPrice*e.purchaseQuantity,desc:e.productDescription,title:e.TradeName,thumb:e.img},scopedSlots:t._u([{key:"tag",fn:function(){return[n("van-checkbox",{attrs:{name:e.detailsId},on:{click:t.isCheck}})]},proxy:!0},{key:"bottom",fn:function(){return[t._v("\n                    ￥"+t._s(e.commodityPrice)+"\n                ")]},proxy:!0},{key:"footer",fn:function(){return[n("van-button",{attrs:{size:"mini"},on:{click:function(n){return t.changeQuantity(e,"-")}}},[t._v("➖")]),t._v(" "),n("van-button",{attrs:{size:"mini"},on:{click:function(n){return t.changeQuantity(e,"+")}}},[t._v("➕")])]},proxy:!0}],null,!0)})],1)})),t._v(" "),n("van-submit-bar",{attrs:{price:t.prices,"button-text":t.settlement},on:{submit:t.onSubmit}},[t.isCheckAll?n("van-checkbox",{on:{click:t.checkAll}},[t._v("全选")]):t._e(),t._v(" "),t.isCheckAll?t._e():n("van-checkbox",{on:{click:t.toggleAll}},[t._v("反选")])],1)],2):t._e(),t._v(" "),this.data.length<=0?n("van-empty",{attrs:{description:"您还未添加宝贝呢"}}):t._e(),t._v(" "),n("div",{staticStyle:{height:"10vh"}})],1)}),[],!1,null,null,null);e.default=s.exports}}]);